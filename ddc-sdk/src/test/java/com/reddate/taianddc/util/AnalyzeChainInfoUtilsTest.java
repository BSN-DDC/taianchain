package com.reddate.taianddc.util;

import com.reddate.taianddc.constant.AuthorityFunctions;
import com.reddate.taianddc.constant.DDC721Functions;
import com.reddate.taianddc.dto.ddc.AddAccountEventBean;
import com.reddate.taianddc.dto.ddc.UpdateAccountStateEventBean;
import lombok.extern.slf4j.Slf4j;
import org.fisco.bcos.web3j.protocol.exceptions.TransactionException;
import org.fisco.bcos.web3j.tx.txdecode.BaseException;
import org.fisco.bcos.web3j.tx.txdecode.EventResultEntity;
import org.fisco.bcos.web3j.tx.txdecode.InputAndOutputResult;
import org.junit.jupiter.api.Test;

import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;

import static com.reddate.taianddc.util.AnalyzeChainInfoUtils.assembleBeanByReflect;

@Slf4j
class AnalyzeChainInfoUtilsTest {

    static String abi = "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"ddc721DataAddress\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"approved\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"EnterBlacklist\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"ExitBlacklist\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"symbol\",\"type\":\"string\"}],\"name\":\"Initialize\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"ddcURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"freeze\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_symbol\",\"type\":\"string\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"ddcURI_\",\"type\":\"string\"}],\"name\":\"mint\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"authorityLogicAddress\",\"type\":\"address\"}],\"name\":\"setAuthorityLogic\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"chargeLogicAddress\",\"type\":\"address\"}],\"name\":\"setChargeLogic\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ddcId\",\"type\":\"uint256\"}],\"name\":\"unFreeze\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]";
    static String bin = "60806040523480156200001157600080fd5b506040516200439d3803806200439d8339810160408190526200003491620000b5565b6200003f3362000065565b600280546001600160a01b0319166001600160a01b0392909216919091179055620000e7565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600060208284031215620000c857600080fd5b81516001600160a01b0381168114620000e057600080fd5b9392505050565b6142a680620000f76000396000f3fe608060405234801561001057600080fd5b50600436106101425760003560e01c8063715018a6116100b8578063b88d4fde1161007c578063b88d4fde1461029e578063d0def521146102b1578063d302b0dc146102c4578063d7a78db8146102d7578063e985e9c5146102ea578063f2fde38b146102fd57600080fd5b8063715018a6146102575780638da5cb5b1461025f57806395d89b4114610270578063a22cb46514610278578063a419a3331461028b57600080fd5b8063293ec97c1161010a578063293ec97c146101d757806341044052146101ea57806342966c68146101fd5780634cd88b76146102105780636352211e1461022357806370a082311461023657600080fd5b806301ffc9a71461014757806306fdde031461016f578063081812fc14610184578063095ea7b3146101af57806323b872dd146101c4575b600080fd5b61015a610155366004613997565b610310565b60405190151581526020015b60405180910390f35b610177610347565b6040516101669190613a10565b610197610192366004613a23565b6103be565b6040516001600160a01b039091168152602001610166565b6101c26101bd366004613a51565b61049a565b005b6101c26101d2366004613a7d565b610b92565b6101776101e5366004613a23565b6111c4565b6101c26101f8366004613abe565b61129a565b6101c261020b366004613a23565b611353565b6101c261021e366004613ba8565b611731565b610197610231366004613a23565b6117fc565b610249610244366004613abe565b6118d6565b604051908152602001610166565b6101c26119af565b6000546001600160a01b0316610197565b6101776119e5565b6101c2610286366004613c1a565b611a2f565b6101c2610299366004613abe565b61209b565b6101c26102ac366004613c53565b612151565b6101c26102bf366004613cd3565b6127ac565b6101c26102d2366004613a23565b612b4b565b6101c26102e5366004613a23565b612fb8565b61015a6102f8366004613d19565b6133dc565b6101c261030b366004613abe565b613457565b60006001600160e01b0319821663471b36c760e01b148061034157506301ffc9a760e01b6001600160e01b03198316145b92915050565b600254604080516306fdde0360e01b815290516060926001600160a01b0316916306fdde039160048083019260009291908290030181865afa158015610391573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526103b99190810190613d47565b905090565b60006103c9826134f2565b61042d5760405162461bcd60e51b815260206004820152602a60248201527f4444433732313a20617070726f76656420717565727920666f72206e6f6e6578604482015269697374656e742064646360b01b60648201526084015b60405180910390fd5b60025460405163020604bf60e21b8152600481018490526001600160a01b039091169063081812fc90602401602060405180830381865afa158015610476573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103419190613dbe565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa1580156104f0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105149190613ddb565b6105305760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663470cf0e033306000356001600160e01b0319166040518463ffffffff1660e01b815260040161056e93929190613e46565b602060405180830381865afa15801561058b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105af9190613ddb565b6105cb5760405162461bcd60e51b815260040161042490613e73565b816001600160a01b0381166105f25760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa15801561063e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106629190613ddb565b61067e5760405162461bcd60e51b815260040161042490613ef4565b81610688816134f2565b6106a45760405162461bcd60e51b815260040161042490613f43565b600254604051630eaf7e7560e41b8152600481018390526001600160a01b039091169063eaf7e75090602401602060405180830381865afa1580156106ed573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107119190613ddb565b1561072e5760405162461bcd60e51b815260040161042490613f7a565b33600480546040516304c375b160e21b815287926000926001600160a01b03169163130dd6c491610763918791879101613fbb565b602060405180830381865afa158015610780573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107a49190613ddb565b600480546040516312f4be2560e21b81529293506000926001600160a01b0390911691634bd2f894916107db918791899101613fbb565b602060405180830381865afa1580156107f8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061081c9190613ddb565b600480546040516312f4be2560e21b81529293506000926001600160a01b0390911691634bd2f89491610853918991899101613fbb565b602060405180830381865afa158015610870573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108949190613ddb565b600480546040516334074ed760e11b81529293506000926001600160a01b039091169163680e9dae916108cb918a918a9101613fbb565b602060405180830381865afa1580156108e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090c9190613ddb565b90506001841515148061092157506001811515145b8061092e57506001831515145b8061093b57506001821515145b6109575760405162461bcd60e51b815260040161042490613fd5565b60006109628a6117fc565b9050806001600160a01b03168b6001600160a01b031614156109d05760405162461bcd60e51b815260206004820152602160248201527f4444433732313a20617070726f76616c20746f2063757272656e74206f776e656044820152603960f91b6064820152608401610424565b336001600160a01b03821614806109ec57506109ec81336133dc565b610a5e5760405162461bcd60e51b815260206004820152603860248201527f4444433732313a20617070726f76652063616c6c6572206973206e6f74206f7760448201527f6e6572206e6f7220617070726f76656420666f7220616c6c00000000000000006064820152608401610424565b6003546001600160a01b03166396875190336000356001600160e01b0319166040518363ffffffff1660e01b8152600401610a9a929190614032565b6020604051808303816000875af1158015610ab9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610add9190613ddb565b5060025460405163095ea7b360e01b81526001600160a01b038d81166004830152602482018d90529091169063095ea7b390604401600060405180830381600087803b158015610b2c57600080fd5b505af1158015610b40573d6000803e3d6000fd5b50505050898b6001600160a01b0316826001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050505050505050505050565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015610be8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c0c9190613ddb565b610c285760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663470cf0e033306000356001600160e01b0319166040518463ffffffff1660e01b8152600401610c6693929190613e46565b602060405180830381865afa158015610c83573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ca79190613ddb565b610cc35760405162461bcd60e51b815260040161042490613e73565b826001600160a01b038116610cea5760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa158015610d36573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d5a9190613ddb565b610d765760405162461bcd60e51b815260040161042490613ef4565b826001600160a01b038116610d9d5760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa158015610de9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e0d9190613ddb565b610e295760405162461bcd60e51b815260040161042490613ef4565b82610e33816134f2565b610e4f5760405162461bcd60e51b815260040161042490613f43565b600254604051630eaf7e7560e41b8152600481018390526001600160a01b039091169063eaf7e75090602401602060405180830381865afa158015610e98573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ebc9190613ddb565b15610ed95760405162461bcd60e51b815260040161042490613f7a565b600480546040516304c375b160e21b8152889288926000926001600160a01b039091169163130dd6c491610f11918791879101613fbb565b602060405180830381865afa158015610f2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f529190613ddb565b600480546040516312f4be2560e21b81529293506000926001600160a01b0390911691634bd2f89491610f89918791899101613fbb565b602060405180830381865afa158015610fa6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fca9190613ddb565b600480546040516312f4be2560e21b81529293506000926001600160a01b0390911691634bd2f89491611001918991899101613fbb565b602060405180830381865afa15801561101e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110429190613ddb565b600480546040516334074ed760e11b81529293506000926001600160a01b039091169163680e9dae91611079918a918a9101613fbb565b602060405180830381865afa158015611096573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110ba9190613ddb565b9050600184151514806110cf57506001811515145b806110dc57506001831515145b806110e957506001821515145b6111055760405162461bcd60e51b815260040161042490613fd5565b61110f338b613575565b61112b5760405162461bcd60e51b815260040161042490614055565b6003546001600160a01b03166396875190336000356001600160e01b0319166040518363ffffffff1660e01b8152600401611167929190614032565b6020604051808303816000875af1158015611186573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111aa9190613ddb565b506111b68c8c8c61363f565b505050505050505050505050565b60606111cf826134f2565b6112295760405162461bcd60e51b815260206004820152602560248201527f4444433732313a2055524920717565727920666f72206e6f6e6578697374656e604482015264742064646360d81b6064820152608401610424565b600254604051630a4fb25f60e21b8152600481018490526001600160a01b039091169063293ec97c90602401600060405180830381865afa158015611272573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526103419190810190613d47565b6000546001600160a01b031633146112c45760405162461bcd60e51b8152600401610424906140a6565b6001600160a01b0381166113315760405162461bcd60e51b815260206004820152602e60248201527f4444433732313a2073657420617574686f726974794c6f67696320746f20746860448201526d65207a65726f206164647265737360901b6064820152608401610424565b600480546001600160a01b0319166001600160a01b0392909216919091179055565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa1580156113a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113cd9190613ddb565b6113e95760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663470cf0e033306000356001600160e01b0319166040518463ffffffff1660e01b815260040161142793929190613e46565b602060405180830381865afa158015611444573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114689190613ddb565b6114845760405162461bcd60e51b815260040161042490613e73565b33806114a25760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa1580156114ee573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115129190613ddb565b61152e5760405162461bcd60e51b815260040161042490613ef4565b6115383383613575565b61159d5760405162461bcd60e51b815260206004820152603060248201527f4552433732314275726e61626c653a2063616c6c6572206973206e6f74206f7760448201526f1b995c881b9bdc88185c1c1c9bdd995960821b6064820152608401610424565b6003546001600160a01b03166396875190336000356001600160e01b0319166040518363ffffffff1660e01b81526004016115d9929190614032565b6020604051808303816000875af11580156115f8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061161c9190613ddb565b506000611628836117fc565b60025460405163095ea7b360e01b815260006004820152602481018690529192506001600160a01b03169063095ea7b390604401600060405180830381600087803b15801561167657600080fd5b505af115801561168a573d6000803e3d6000fd5b5050600254604051632770a7eb60e21b81526001600160a01b038581166004830152602482018890529091169250639dc29fac9150604401600060405180830381600087803b1580156116dc57600080fd5b505af11580156116f0573d6000803e3d6000fd5b5050604051859250600091506001600160a01b038416907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908390a4505050565b6000546001600160a01b0316331461175b5760405162461bcd60e51b8152600401610424906140a6565b60025460405163266c45bb60e11b81526001600160a01b0390911690634cd88b769061178d90859085906004016140db565b600060405180830381600087803b1580156117a757600080fd5b505af11580156117bb573d6000803e3d6000fd5b505050507fcc4fddc9dfbf9cc61450b69264c7f0763fa1291e14a9d3ee9ce43d7f278abfd982826040516117f09291906140db565b60405180910390a15050565b6002546040516331a9108f60e11b81526004810183905260009182916001600160a01b0390911690636352211e90602401602060405180830381865afa15801561184a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061186e9190613dbe565b90506001600160a01b0381166103415760405162461bcd60e51b815260206004820152602760248201527f4444433732313a206f776e657220717565727920666f72206e6f6e6578697374604482015266656e742064646360c81b6064820152608401610424565b60006001600160a01b0382166119415760405162461bcd60e51b815260206004820152602a60248201527f4444433732313a2062616c616e636520717565727920666f7220746865207a65604482015269726f206164647265737360b01b6064820152608401610424565b6002546040516370a0823160e01b81526001600160a01b038481166004830152909116906370a0823190602401602060405180830381865afa15801561198b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103419190614100565b6000546001600160a01b031633146119d95760405162461bcd60e51b8152600401610424906140a6565b6119e36000613833565b565b600254604080516395d89b4160e01b815290516060926001600160a01b0316916395d89b419160048083019260009291908290030181865afa158015610391573d6000803e3d6000fd5b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015611a85573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611aa99190613ddb565b611ac55760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663470cf0e033306000356001600160e01b0319166040518463ffffffff1660e01b8152600401611b0393929190613e46565b602060405180830381865afa158015611b20573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b449190613ddb565b611b605760405162461bcd60e51b815260040161042490613e73565b3380611b7e5760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa158015611bca573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bee9190613ddb565b611c0a5760405162461bcd60e51b815260040161042490613ef4565b826001600160a01b038116611c315760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa158015611c7d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ca19190613ddb565b611cbd5760405162461bcd60e51b815260040161042490613ef4565b33600480546040516304c375b160e21b815287926000926001600160a01b03169163130dd6c491611cf2918791879101613fbb565b602060405180830381865afa158015611d0f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d339190613ddb565b600480546040516312f4be2560e21b81529293506000926001600160a01b0390911691634bd2f89491611d6a918791899101613fbb565b602060405180830381865afa158015611d87573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611dab9190613ddb565b600480546040516312f4be2560e21b81529293506000926001600160a01b0390911691634bd2f89491611de2918991899101613fbb565b602060405180830381865afa158015611dff573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e239190613ddb565b600480546040516334074ed760e11b81529293506000926001600160a01b039091169163680e9dae91611e5a918a918a9101613fbb565b602060405180830381865afa158015611e77573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e9b9190613ddb565b905060018415151480611eb057506001811515145b80611ebd57506001831515145b80611eca57506001821515145b611ee65760405162461bcd60e51b815260040161042490613fd5565b6001600160a01b038a16331415611f3f5760405162461bcd60e51b815260206004820152601960248201527f4444433732313a20617070726f766520746f2063616c6c6572000000000000006044820152606401610424565b6003546001600160a01b03166396875190336000356001600160e01b0319166040518363ffffffff1660e01b8152600401611f7b929190614032565b6020604051808303816000875af1158015611f9a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611fbe9190613ddb565b506002546001600160a01b031663367605ca336040516001600160e01b031960e084901b1681526001600160a01b039182166004820152908d1660248201528b15156044820152606401600060405180830381600087803b15801561202257600080fd5b505af1158015612036573d6000803e3d6000fd5b50505050896001600160a01b031661204b3390565b6001600160a01b03167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318b604051612087911515815260200190565b60405180910390a350505050505050505050565b6000546001600160a01b031633146120c55760405162461bcd60e51b8152600401610424906140a6565b6001600160a01b03811661212f5760405162461bcd60e51b815260206004820152602b60248201527f4444433732313a20736574206368617267654c6f67696320746f20746865207a60448201526a65726f206164647265737360a81b6064820152608401610424565b600380546001600160a01b0319166001600160a01b0392909216919091179055565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa1580156121a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121cb9190613ddb565b6121e75760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663470cf0e033306000356001600160e01b0319166040518463ffffffff1660e01b815260040161222593929190613e46565b602060405180830381865afa158015612242573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122669190613ddb565b6122825760405162461bcd60e51b815260040161042490613e73565b836001600160a01b0381166122a95760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa1580156122f5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123199190613ddb565b6123355760405162461bcd60e51b815260040161042490613ef4565b836001600160a01b03811661235c5760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa1580156123a8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123cc9190613ddb565b6123e85760405162461bcd60e51b815260040161042490613ef4565b836123f2816134f2565b61240e5760405162461bcd60e51b815260040161042490613f43565b600254604051630eaf7e7560e41b8152600481018390526001600160a01b039091169063eaf7e75090602401602060405180830381865afa158015612457573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061247b9190613ddb565b156124985760405162461bcd60e51b815260040161042490613f7a565b600480546040516304c375b160e21b8152899289926000926001600160a01b039091169163130dd6c4916124d0918791879101613fbb565b602060405180830381865afa1580156124ed573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906125119190613ddb565b600480546040516312f4be2560e21b81529293506000926001600160a01b0390911691634bd2f89491612548918791899101613fbb565b602060405180830381865afa158015612565573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906125899190613ddb565b600480546040516312f4be2560e21b81529293506000926001600160a01b0390911691634bd2f894916125c0918991899101613fbb565b602060405180830381865afa1580156125dd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126019190613ddb565b600480546040516334074ed760e11b81529293506000926001600160a01b039091169163680e9dae91612638918a918a9101613fbb565b602060405180830381865afa158015612655573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126799190613ddb565b90506001841515148061268e57506001811515145b8061269b57506001831515145b806126a857506001821515145b6126c45760405162461bcd60e51b815260040161042490613fd5565b6126ce338c613575565b6126ea5760405162461bcd60e51b815260040161042490614055565b6003546001600160a01b03166396875190336000356001600160e01b0319166040518363ffffffff1660e01b8152600401612726929190614032565b6020604051808303816000875af1158015612745573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127699190613ddb565b506127758d8d8d61363f565b6127818d8d8d8d613883565b61279d5760405162461bcd60e51b815260040161042490614119565b50505050505050505050505050565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015612802573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128269190613ddb565b6128425760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663470cf0e033306000356001600160e01b0319166040518463ffffffff1660e01b815260040161288093929190613e46565b602060405180830381865afa15801561289d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128c19190613ddb565b6128dd5760405162461bcd60e51b815260040161042490613e73565b816001600160a01b0381166129045760405162461bcd60e51b815260040161042490613ebf565b600480546040516395c2a8d960e01b81526001600160a01b03848116938201939093529116906395c2a8d990602401602060405180830381865afa158015612950573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906129749190613ddb565b6129905760405162461bcd60e51b815260040161042490613ef4565b6001600160a01b0383166129b65760405162461bcd60e51b815260040161042490613ebf565b6129c4600180546001019055565b60006129cf60015490565b90506129da816134f2565b15612a275760405162461bcd60e51b815260206004820152601a60248201527f4444433732313a2064646320616c7265616479206d696e7465640000000000006044820152606401610424565b6003546001600160a01b03166396875190336000356001600160e01b0319166040518363ffffffff1660e01b8152600401612a63929190614032565b6020604051808303816000875af1158015612a82573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612aa69190613ddb565b506002546040516334ff261960e21b81526001600160a01b039091169063d3fc986490612adb9087908590889060040161416b565b600060405180830381600087803b158015612af557600080fd5b505af1158015612b09573d6000803e3d6000fd5b50506040518392506001600160a01b03871691506000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a450505050565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015612ba1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612bc59190613ddb565b612be15760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663470cf0e033306000356001600160e01b0319166040518463ffffffff1660e01b8152600401612c1f93929190613e46565b602060405180830381865afa158015612c3c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612c609190613ddb565b612c7c5760405162461bcd60e51b815260040161042490613e73565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa158015612cd2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612cf69190613ddb565b612d125760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663333f4ad63360006040518363ffffffff1660e01b8152600401612d43929190614192565b602060405180830381865afa158015612d60573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612d849190613ddb565b612da05760405162461bcd60e51b8152600401610424906141cd565b80612daa816134f2565b612dc65760405162461bcd60e51b815260040161042490613f43565b600254604051630eaf7e7560e41b8152600481018390526001600160a01b039091169063eaf7e75090602401602060405180830381865afa158015612e0f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e339190613ddb565b612e8d5760405162461bcd60e51b815260206004820152602560248201527f4444433732313a202074686520646463206861736e277420626520646973616260448201526403632b217160dd1b6064820152608401610424565b6003546001600160a01b03166396875190336000356001600160e01b0319166040518363ffffffff1660e01b8152600401612ec9929190614032565b6020604051808303816000875af1158015612ee8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612f0c9190613ddb565b506002546040516334c0ac3760e21b8152600481018490526001600160a01b039091169063d302b0dc90602401600060405180830381600087803b158015612f5357600080fd5b505af1158015612f67573d6000803e3d6000fd5b50505050612f723390565b6001600160a01b03167faddb66f781fad31382e12b8ad189f90d41b9590625a6736ef67a2792f094874f83604051612fac91815260200190565b60405180910390a25050565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa15801561300e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906130329190613ddb565b61304e5760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663470cf0e033306000356001600160e01b0319166040518463ffffffff1660e01b815260040161308c93929190613e46565b602060405180830381865afa1580156130a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906130cd9190613ddb565b6130e95760405162461bcd60e51b815260040161042490613e73565b6004546001600160a01b03166395c2a8d9336040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602401602060405180830381865afa15801561313f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131639190613ddb565b61317f5760405162461bcd60e51b815260040161042490613df8565b6004546001600160a01b031663333f4ad63360006040518363ffffffff1660e01b81526004016131b0929190614192565b602060405180830381865afa1580156131cd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906131f19190613ddb565b61320d5760405162461bcd60e51b8152600401610424906141cd565b80613217816134f2565b6132335760405162461bcd60e51b815260040161042490613f43565b600254604051630eaf7e7560e41b8152600481018390526001600160a01b039091169063eaf7e75090602401602060405180830381865afa15801561327c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906132a09190613ddb565b156132bd5760405162461bcd60e51b815260040161042490613f7a565b6003546001600160a01b03166396875190336000356001600160e01b0319166040518363ffffffff1660e01b81526004016132f9929190614032565b6020604051808303816000875af1158015613318573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061333c9190613ddb565b50600254604051631af4f1b760e31b8152600481018490526001600160a01b039091169063d7a78db890602401600060405180830381600087803b15801561338357600080fd5b505af1158015613397573d6000803e3d6000fd5b505050506133a23390565b6001600160a01b03167f027b0995c9aa454830a50ece99b9507432deb5f7ff0173efc4429282c1710a3683604051612fac91815260200190565b60025460405163e985e9c560e01b81526000916001600160a01b03169063e985e9c59061340f9086908690600401613fbb565b602060405180830381865afa15801561342c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134509190613ddb565b9392505050565b6000546001600160a01b031633146134815760405162461bcd60e51b8152600401610424906140a6565b6001600160a01b0381166134e65760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610424565b6134ef81613833565b50565b6002546040516331a9108f60e11b81526004810183905260009182916001600160a01b0390911690636352211e90602401602060405180830381865afa158015613540573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906135649190613dbe565b6001600160a01b0316141592915050565b6000613580826134f2565b6135e15760405162461bcd60e51b815260206004820152602c60248201527f4552433732313a206f70657261746f7220717565727920666f72206e6f6e657860448201526b1a5cdd195b9d08191918d25960a21b6064820152608401610424565b60006135ec836117fc565b9050806001600160a01b0316846001600160a01b031614806136275750836001600160a01b031661361c846103be565b6001600160a01b0316145b80613637575061363781856133dc565b949350505050565b826001600160a01b0316613652826117fc565b6001600160a01b0316146136b85760405162461bcd60e51b815260206004820152602760248201527f4444433732313a207472616e73666572206f66206464632074686174206973206044820152663737ba1037bbb760c91b6064820152608401610424565b6001600160a01b03821661371a5760405162461bcd60e51b8152602060048201526024808201527f4444433732313a207472616e7366657220746f20746865207a65726f206164646044820152637265737360e01b6064820152608401610424565b60025460405163095ea7b360e01b815260006004820152602481018390526001600160a01b039091169063095ea7b390604401600060405180830381600087803b15801561376757600080fd5b505af115801561377b573d6000803e3d6000fd5b50506002546040516323b872dd60e01b81526001600160a01b03878116600483015286811660248301526044820186905290911692506323b872dd9150606401600060405180830381600087803b1580156137d557600080fd5b505af11580156137e9573d6000803e3d6000fd5b5050505080826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60006001600160a01b0384163b1561397657604051632e2fe85560e21b81526001600160a01b0385169063b8bfa154906138c7903390899088908890600401614216565b6020604051808303816000875af1925050508015613902575060408051601f3d908101601f191682019092526138ff91810190614253565b60015b61395c573d808015613930576040519150601f19603f3d011682016040523d82523d6000602084013e613935565b606091505b5080516139545760405162461bcd60e51b815260040161042490614119565b805181602001fd5b6001600160e01b031916632e2fe85560e21b149050613637565b506001949350505050565b6001600160e01b0319811681146134ef57600080fd5b6000602082840312156139a957600080fd5b813561345081613981565b60005b838110156139cf5781810151838201526020016139b7565b838111156139de576000848401525b50505050565b600081518084526139fc8160208601602086016139b4565b601f01601f19169290920160200192915050565b60208152600061345060208301846139e4565b600060208284031215613a3557600080fd5b5035919050565b6001600160a01b03811681146134ef57600080fd5b60008060408385031215613a6457600080fd5b8235613a6f81613a3c565b946020939093013593505050565b600080600060608486031215613a9257600080fd5b8335613a9d81613a3c565b92506020840135613aad81613a3c565b929592945050506040919091013590565b600060208284031215613ad057600080fd5b813561345081613a3c565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff81118282101715613b1a57613b1a613adb565b604052919050565b600067ffffffffffffffff821115613b3c57613b3c613adb565b50601f01601f191660200190565b6000613b5d613b5884613b22565b613af1565b9050828152838383011115613b7157600080fd5b828260208301376000602084830101529392505050565b600082601f830112613b9957600080fd5b61345083833560208501613b4a565b60008060408385031215613bbb57600080fd5b823567ffffffffffffffff80821115613bd357600080fd5b613bdf86838701613b88565b93506020850135915080821115613bf557600080fd5b50613c0285828601613b88565b9150509250929050565b80151581146134ef57600080fd5b60008060408385031215613c2d57600080fd5b8235613c3881613a3c565b91506020830135613c4881613c0c565b809150509250929050565b60008060008060808587031215613c6957600080fd5b8435613c7481613a3c565b93506020850135613c8481613a3c565b925060408501359150606085013567ffffffffffffffff811115613ca757600080fd5b8501601f81018713613cb857600080fd5b613cc787823560208401613b4a565b91505092959194509250565b60008060408385031215613ce657600080fd5b8235613cf181613a3c565b9150602083013567ffffffffffffffff811115613d0d57600080fd5b613c0285828601613b88565b60008060408385031215613d2c57600080fd5b8235613d3781613a3c565b91506020830135613c4881613a3c565b600060208284031215613d5957600080fd5b815167ffffffffffffffff811115613d7057600080fd5b8201601f81018413613d8157600080fd5b8051613d8f613b5882613b22565b818152856020838501011115613da457600080fd5b613db58260208301602086016139b4565b95945050505050565b600060208284031215613dd057600080fd5b815161345081613a3c565b600060208284031215613ded57600080fd5b815161345081613c0c565b6020808252602e908201527f4444433732313a73656e6465722069736e2774206120617661696c61626c652060408201526d30323231b01030b1b1b7bab73a1760911b606082015260800190565b6001600160a01b0393841681529190921660208201526001600160e01b0319909116604082015260600190565b6020808252602c908201527f4444433732313a2073656e64657220646f65736e277420686176652063616c6c60408201526b103832b936b4b9b9b4b7b71760a11b606082015260800190565b6020808252818101527f4444433732313a206d696e7420746f20746865207a65726f2061646472657373604082015260600190565b6020808252602f908201527f4444433732313a2073656e6465722069736e2774206120617661696c61626c6560408201526e1030323231b01030b1b1b7bab73a1760891b606082015260800190565b60208082526017908201527f4444433732313a206e6f6e6578697374656e7420646463000000000000000000604082015260600190565b60208082526021908201527f4444433732313a2074686520646463206861732062652064697361626c65642e6040820152600160fd1b606082015260800190565b6001600160a01b0392831681529116602082015260400190565b6020808252603a908201527f4444433732313a207472616e7366657220646463206e6565647320746f20626560408201527f6c6f6e6720746f207468652073616d6520706c6174666f726d2e000000000000606082015260800190565b6001600160a01b039290921682526001600160e01b031916602082015260400190565b60208082526031908201527f4444433732313a207472616e736665722063616c6c6572206973206e6f74206f6040820152701ddb995c881b9bdc88185c1c1c9bdd9959607a1b606082015260800190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b6040815260006140ee60408301856139e4565b8281036020840152613db581856139e4565b60006020828403121561411257600080fd5b5051919050565b60208082526032908201527f4444433732313a207472616e7366657220746f206e6f6e20444443373231526560408201527131b2b4bb32b91034b6b83632b6b2b73a32b960711b606082015260800190565b60018060a01b0384168152826020820152606060408201526000613db560608301846139e4565b6001600160a01b038316815260408101600383106141c057634e487b7160e01b600052602160045260246000fd5b8260208301529392505050565b60208082526029908201527f4444433732313a2073656e6465722069736e27742074686520606f706572617460408201526837b930103937b6329760b91b606082015260800190565b6001600160a01b0385811682528416602082015260408101839052608060608201819052600090614249908301846139e4565b9695505050505050565b60006020828403121561426557600080fd5b81516134508161398156fea26469706673582212204858063811a6ad7da0184f948ec4e804400c0bf852e88aed91bda4893c69266764736f6c634300080a0033";
    static String input = "0xd0def521000000000000000000000000c34becd5777679dbf39674220c00f6f3b37cd8fc0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000002a30786333346265636435373737363739646266333936373432323063303066366633623337636438666300000000000000000000000000000000000000000000";
    static String output = "0x08c379a00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002c4444433732313a2073656e64657220646f65736e277420686176652063616c6c207065726d697373696f6e2e0000000000000000000000000000000000000000";
    static String eventlog = "\n" +
            "[ { \"logIndex\": null, \"transactionIndex\": null, \"transactionHash\": null, \"blockHash\": null, \"blockNumber\": null, \"address\": \"0x1f961199f2a8811f0a4bf1bf6c0fffb97475af22\", \"data\": \"0xd0def521000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000028\", \"topics\": [ \"0xe5e4f0955699fa27be3f7aeb5a9e4ab78b6a37914fd44e5b08c4b78e56f04aa0\", \"0x000000000000000000000000b0031aa7725a6828bcce4f0b90cfe451c31c1e63\", \"0x0000000000000000000000008d2dc58887cdd465be26021384452fc96c3649c1\" ] }, { \"logIndex\": null, \"transactionIndex\": null, \"transactionHash\": null, \"blockHash\": null, \"blockNumber\": null, \"address\": \"0x8d2dc58887cdd465be26021384452fc96c3649c1\", \"data\": \"0x\", \"topics\": [ \"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\", \"0x0000000000000000000000000000000000000000000000000000000000000000\", \"0x000000000000000000000000147b1e9208767ec2cfd3588634ace23d4bc44dfc\", \"0x000000000000000000000000000000000000000000000000000000000000008a\" ] } ]";


    @Test
    void analyzeTransactionInput() throws BaseException, TransactionException {
        InputAndOutputResult inputAndOutputResult = AnalyzeChainInfoUtils.analyzeTransactionInput(abi, bin, input);
        log.info(inputAndOutputResult.toString());
    }

    @Test
    void analyzeTransactionOutput() throws BaseException, TransactionException {
        InputAndOutputResult inputAndOutputResult = AnalyzeChainInfoUtils.analyzeTransactionOutput(abi, bin, input, output);
        log.info(inputAndOutputResult.toString());
    }

    @Test
    void analyzeEventLog() throws BaseException, IOException, IllegalAccessException, InvocationTargetException, InstantiationException, NoSuchMethodException {
        Map<String, List<List<EventResultEntity>>> map = AnalyzeChainInfoUtils.analyzeEventLog(abi, bin, eventlog);
        if (map.isEmpty()) {
            return;
        }

        ArrayList eventArrayLisy = new ArrayList();

        if (map.containsKey(AuthorityFunctions.ADD_ACCOUNT_EVENT)) {
            eventArrayLisy.addAll(analyzeAddAccountEvent(map));
        }

//        if (map.containsKey(AuthorityFunctions.UpdateAccountEvent)) {
//            eventArrayLisy.addAll(analyzeUpdateAccountEvent(map));
//        }

        if (map.containsKey(AuthorityFunctions.UPDATE_ACCOUNT_STATE_EVENT)) {
            eventArrayLisy.addAll(analyzeUpdateAccountStateEvent(map));
        }

        if (map.containsKey(DDC721Functions.MINT)) {
            eventArrayLisy.addAll(analyzeUpdateAccountStateEvent(map));
        }

        for (Object o : eventArrayLisy) {
            log.info(o.toString());
        }

    }


    public ArrayList analyzeAddAccountEvent(Map<String, List<List<EventResultEntity>>> map) throws IllegalAccessException {
        List<List<EventResultEntity>> updateAccountLists = map.get(AuthorityFunctions.ADD_ACCOUNT_EVENT);
        ArrayList<AddAccountEventBean> addAccountEventBeanArrayList = new ArrayList<>(updateAccountLists.size());
        for (List<EventResultEntity> addAccountList : updateAccountLists) {
            AddAccountEventBean accountEventBean = new AddAccountEventBean();
            accountEventBean.setCaller((String) addAccountList.get(0).getData());
            accountEventBean.setAccount((String) addAccountList.get(1).getData());

            addAccountEventBeanArrayList.add(accountEventBean);
        }

        map.remove(AuthorityFunctions.ADD_ACCOUNT_EVENT);
        return addAccountEventBeanArrayList;
    }


//    public ArrayList analyzeUpdateAccountEvent(Map<String, List<List<EventResultEntity>>> map) throws IllegalAccessException, InvocationTargetException, NoSuchMethodException, InstantiationException {
//        List<List<EventResultEntity>> updateAccountLists = map.get(AuthorityFunctions.UpdateAccountEvent);
//        ArrayList<UpdateAccountEventBean> addAccountEventBeanArrayList = new ArrayList<>(updateAccountLists.size());
//        for (List<EventResultEntity> addAccountList : updateAccountLists) {
//            UpdateAccountEventBean accountEventBean = assembleBeanByReflect(addAccountList, UpdateAccountEventBean.class);
//            addAccountEventBeanArrayList.add(accountEventBean);
//        }
//
//        map.remove(AuthorityFunctions.UpdateAccountEvent);
//        return addAccountEventBeanArrayList;
//    }


    public ArrayList analyzeUpdateAccountStateEvent(Map<String, List<List<EventResultEntity>>> map) throws InvocationTargetException, IllegalAccessException, NoSuchMethodException, InstantiationException {
        List<List<EventResultEntity>> updateAccountLists = map.get(AuthorityFunctions.UPDATE_ACCOUNT_STATE_EVENT);
        ArrayList<UpdateAccountStateEventBean> updateAccountEventBeanArrayList = new ArrayList<>(updateAccountLists.size());
        for (List<EventResultEntity> addAccountList : updateAccountLists) {
            UpdateAccountStateEventBean accountEventBean = assembleBeanByReflect(addAccountList, UpdateAccountStateEventBean.class);
            updateAccountEventBeanArrayList.add(accountEventBean);
        }

        map.remove(AuthorityFunctions.UPDATE_ACCOUNT_STATE_EVENT);
        return updateAccountEventBeanArrayList;
    }

}